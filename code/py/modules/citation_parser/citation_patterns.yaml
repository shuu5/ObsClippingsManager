# 引用文献パターン設定ファイル
# ObsClippingsManager Citation Parser

patterns:
  linked_citation:
    regex: '\[(\^?\d+)\]\(([^)]+)\)'
    type: 'linked'
    priority: 1
    enabled: true
    description: 'リンク付き引用 例: [1](URL), [^2](URL)'
    
  footnote_citation:
    regex: '\[\^(\d+)\]'
    type: 'footnote'
    priority: 2
    enabled: true
    description: '脚注引用 例: [^1], [^18]'
    
  range_citation:
    regex: '\[(\d+)[-–](\d+)\]'
    type: 'range'
    priority: 3
    enabled: true
    description: '範囲引用 例: [1-5], [4–8], [14–21]'
    
  multiple_citation:
    regex: '\[(\d+(?:[,\s]+\d+)+)\]'
    type: 'multiple'
    priority: 4
    enabled: true
    description: '複数引用 例: [1, 2], [17, 18], [1,2,3]'
    
  single_citation:
    regex: '\[(\d+)\]'
    type: 'single'
    priority: 5
    enabled: true
    description: '単一引用 例: [1], [13]'
    
  mixed_footnote:
    regex: '\[\^(\d+(?:,\^?\d+)*)\]'
    type: 'footnote'
    priority: 6
    enabled: true
    description: '混合脚注 例: [^1,^2,^3]'

output_formats:
  standard:
    single: '[{number}]'
    multiple: '[{numbers}]'
    separator: ','
    sort_numbers: true
    expand_ranges: true
    remove_spaces: false
    description: '標準フォーマット'
    
  compact:
    single: '[{number}]'
    multiple: '[{numbers}]'
    separator: ','
    sort_numbers: true
    expand_ranges: true
    remove_spaces: true
    description: 'コンパクトフォーマット（スペースなし）'
    
  spaced:
    single: '[{number}]'
    multiple: '[{numbers}]'
    separator: ', '
    sort_numbers: true
    expand_ranges: true
    remove_spaces: false
    description: 'スペース付きフォーマット'

conversion_rules:
  expand_ranges: true
  remove_spaces: false
  sort_numbers: true
  merge_adjacent: false
  validate_urls: true
  max_range_size: 50
  max_citation_count: 100
  
validation:
  enable_url_validation: true
  enable_citation_number_validation: true
  max_citation_number: 9999
  min_citation_number: 1

processing:
  enable_statistics: true
  enable_detailed_logging: false
  cache_patterns: true 